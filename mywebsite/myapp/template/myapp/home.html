{% extends 'myapp/base.html' %}
{% load static %}

{% block myheader %}{% endblock myheader %}

{% block content %}
<script src="https://cdn.tailwindcss.com"></script>

<section class="relative overflow-hidden bg-gradient-to-br from-sky-100 via-white to-blue-50 dark:from-gray-900 dark:via-gray-900 dark:to-slate-900">
  <div class="mx-auto flex max-w-screen-2xl flex-col gap-16 px-4 py-16 sm:px-6 lg:flex-row lg:items-center lg:justify-between lg:px-8 lg:py-24">
    <div class="max-w-xl space-y-6 text-center lg:text-left">
      <span class="inline-flex items-center gap-2 rounded-full bg-blue-600/10 px-4 py-1 text-sm font-medium text-blue-700 dark:bg-blue-500/10 dark:text-blue-200">
        <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24">
          <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m4 15 4 4 12-12" />
        </svg>
        Adventure awaits
      </span>
      <h1 class="text-4xl font-extrabold tracking-tight text-gray-900 dark:text-white sm:text-5xl lg:text-6xl">
        Welcome to Phuket ATV Tours
      </h1>
      <p class="text-lg text-gray-600 dark:text-gray-300">
        Experience Phuket’s lush jungle trails and beachside viewpoints on four wheels. Pick a package that matches your thrill level and ride with our pro guides.
      </p>
      {% if user.profile.usertype == 'VVIP' %}
      <div class="rounded-xl border border-amber-500/30 bg-amber-100/60 px-5 py-4 text-sm font-semibold text-amber-700 shadow-sm dark:border-amber-400/40 dark:bg-amber-900/30 dark:text-amber-200">
        Exclusive VVIP perk: enjoy <span class="text-xl font-bold">15% off</span> every ride.
      </div>
      {% elif user.profile.usertype == 'VIP' %}
      <div class="rounded-xl border border-purple-500/30 bg-purple-100/60 px-5 py-4 text-sm font-semibold text-purple-700 shadow-sm dark:border-purple-400/40 dark:bg-purple-900/30 dark:text-purple-200">
        VIP member bonus: take <span class="text-xl font-bold">10% off</span> all adventures.
      </div>
      {% elif user.profile.usertype == 'member' %}
      <div class="rounded-xl border border-blue-500/30 bg-blue-100/60 px-5 py-4 text-sm font-semibold text-blue-700 shadow-sm dark:border-blue-400/40 dark:bg-blue-900/30 dark:text-blue-200">
        Member reward: claim <span class="text-xl font-bold">5% off</span> every booking.
      </div>
      {% endif %}
      <div class="flex flex-col gap-3 sm:flex-row sm:justify-center lg:justify-start">
        <a href="#packages" class="inline-flex items-center justify-center rounded-full bg-blue-600 px-6 py-3 text-sm font-semibold text-white shadow-lg shadow-blue-600/40 transition hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:focus:ring-blue-800">
          Our tours programs
          <svg class="ms-2 h-4 w-4" fill="none" viewBox="0 0 24 24">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m9 5 7 7-7 7" />
          </svg>
        </a>
        <a href="{% url 'contact-page' %}" class="inline-flex items-center justify-center rounded-full border border-gray-300 px-6 py-3 text-sm font-semibold text-gray-800 transition hover:bg-gray-100 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700">
          Talk to our guide
        </a>
      </div>
    </div>
    <div class="relative mx-auto w-full max-w-lg lg:m-0">
      <div class="absolute -left-10 -top-10 h-40 w-40 rounded-full bg-blue-200/60 blur-3xl dark:bg-blue-500/20"></div>
      <div class="absolute -right-8 bottom-0 h-32 w-32 rounded-full bg-emerald-200/40 blur-3xl dark:bg-emerald-500/10"></div>
      <div class="relative overflow-hidden rounded-3xl border border-white/40 bg-white shadow-2xl ring-1 ring-black/5 dark:border-white/10 dark:bg-gray-800">
        <img src="{% static 'image/atv.png' %}" alt="ATV Phuket adventures" class="h-auto w-full object-contain p-6" />
      </div>
    </div>
  </div>
</section>

<section id="packages" class="bg-white dark:bg-gray-950">
  <div class="mx-auto max-w-6xl px-4 py-16 sm:px-6 lg:px-8">
    <div class="mb-10 flex flex-col items-start justify-between gap-6 sm:flex-row sm:items-end">
      <div>
        <h2 class="text-3xl font-bold text-gray-900 dark:text-white">Choose your ride</h2>
        <p class="mt-2 text-gray-600 dark:text-gray-400">
          Pick from curated ATV experiences designed for families, thrill seekers, and seasoned riders.
        </p>
      </div>
      <div class="rounded-full bg-blue-50 px-4 py-2 text-sm font-medium text-blue-600 dark:bg-blue-900/40 dark:text-blue-200">
        {{ program_count }} adventures available
      </div>
    </div>

    {% if program_cards %}
    <div class="grid gap-8 md:grid-cols-2 xl:grid-cols-3">
      {% for card in program_cards %}
      <article class="group flex flex-col overflow-hidden rounded-3xl border border-gray-200 bg-white shadow-lg transition hover:-translate-y-1 hover:shadow-xl dark:border-gray-800 dark:bg-gray-900">
        <div class="relative overflow-hidden bg-gray-100 dark:bg-gray-800">
          <img src="{% static 'image/atv.png' %}" alt="{{ card.program.name }}" class="h-56 w-full object-cover transition duration-500 group-hover:scale-105">
          <span class="absolute left-4 top-4 inline-flex items-center gap-2 rounded-full bg-emerald-100 px-3 py-1 text-xs font-semibold text-emerald-700 shadow dark:bg-emerald-900/40 dark:text-emerald-200">
            <span class="inline-block h-2 w-2 rounded-full bg-emerald-500"></span>
            Available
          </span>
        </div>
        <div class="flex flex-1 flex-col gap-4 px-6 py-6">
          <div>
            <h3 class="text-xl font-semibold text-gray-900 transition group-hover:text-blue-600 dark:text-white">{{ card.program.name }}</h3>
            {% if card.program.duration_minutes %}
            <p class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">Duration: {{ card.program.duration_minutes }} minutes</p>
            {% endif %}
            <p class="mt-3 text-sm text-gray-600 dark:text-gray-300">{{ card.program.description|default:"Explore Phuket’s lush trails with an expert lead guide."|truncatewords:28 }}</p>
          </div>

          <div class="rounded-2xl border border-gray-100 bg-gray-50 p-4 dark:border-gray-700 dark:bg-gray-900/60">
            <div class="grid gap-3 md:grid-cols-2">
              <div>
                <p class="text-xs font-semibold uppercase tracking-wide text-gray-500 dark:text-gray-400">Rider</p>
                <p class="mt-1 text-sm text-gray-700 dark:text-gray-200">Adult: <span class="font-semibold">{% if card.rider_adult %}{{ card.rider_adult|floatformat:0 }} THB{% else %}—{% endif %}</span></p>
                <p class="text-sm text-gray-700 dark:text-gray-200">Child: <span class="font-semibold">{% if card.rider_child %}{{ card.rider_child|floatformat:0 }} THB{% else %}—{% endif %}</span></p>
              </div>
              <div>
                <p class="text-xs font-semibold uppercase tracking-wide text-gray-500 dark:text-gray-400">Passenger</p>
                <p class="mt-1 text-sm text-gray-700 dark:text-gray-200">Adult: <span class="font-semibold">{% if card.passenger_adult %}{{ card.passenger_adult|floatformat:0 }} THB{% else %}—{% endif %}</span></p>
                <p class="text-sm text-gray-700 dark:text-gray-200">Child: <span class="font-semibold">{% if card.passenger_child %}{{ card.passenger_child|floatformat:0 }} THB{% else %}—{% endif %}</span></p>
              </div>
            </div>
          </div>

          <div class="mt-auto flex items-center justify-between">
            <div>
              <p class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">Starting from</p>
              <p class="text-2xl font-bold text-blue-600 dark:text-blue-300">{% if card.starting_price %}{{ card.starting_price|floatformat:0 }} THB{% else %}Contact us{% endif %}</p>
            </div>
            <a href="{% url 'booking-page' %}#packages" class="inline-flex items-center rounded-full bg-blue-600 px-5 py-2 text-sm font-semibold text-white shadow-lg shadow-blue-600/40 transition hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:focus:ring-blue-700">
              Book now
            </a>
          </div>
        </div>
      </article>
      {% endfor %}
    </div>
    {% else %}
    <p class="text-gray-500 dark:text-gray-400">New adventures are coming soon. In the meantime, <a href="{% url 'contact-page' %}" class="text-blue-600 dark:text-blue-400 underline">contact our team</a> for a custom ride.</p>
    {% endif %}
  </div>
</section>

<section class="relative overflow-hidden">
  <div class="absolute inset-x-0 top-0 -z-10 flex justify-center">
    <div class="h-[260px] w-[80%] max-w-4xl rounded-full bg-blue-200/40 blur-3xl dark:bg-blue-500/20"></div>
  </div>
  <div class="mx-auto max-w-5xl px-4 pb-16 sm:px-6 lg:px-8">
    <div class="relative overflow-hidden rounded-3xl border border-blue-100 bg-white px-10 py-12 shadow-2xl shadow-blue-200/40 transition hover:shadow-blue-300/40 dark:border-blue-500/30 dark:bg-gray-900 dark:shadow-blue-900/30">
      <div class="absolute -left-24 top-1/2 hidden h-40 w-40 -translate-y-1/2 rounded-full bg-blue-500/30 blur-3xl md:block"></div>
      <div class="absolute -right-20 top-1/2 hidden h-36 w-36 -translate-y-1/2 rounded-full bg-purple-500/30 blur-3xl md:block"></div>
      <div class="relative flex flex-col items-center justify-between gap-8 text-center text-gray-900 dark:text-white sm:flex-row sm:text-left">
        <div class="space-y-3 max-w-2xl">
          <span class="inline-flex items-center gap-2 rounded-full bg-blue-600/10 px-4 py-1 text-xs font-semibold uppercase tracking-wide text-blue-700 dark:bg-blue-500/20 dark:text-blue-200">
            Need a hand?
          </span>
          <h3 class="text-3xl font-bold">Need help choosing your ride?</h3>
          <p class="text-base text-gray-600 dark:text-gray-300">
            Our guides can match you with the right trail in minutes. Reach out and plan your next adventure before slots fill up.
          </p>
        </div>
        <a href="{% url 'contact-page' %}" class="inline-flex items-center justify-center rounded-full bg-gradient-to-r from-blue-600 to-indigo-600 px-8 py-3 text-sm font-semibold text-white shadow-lg shadow-blue-500/40 transition hover:scale-105 focus:outline-none focus:ring-4 focus:ring-blue-200 dark:focus:ring-blue-700">
          Get in touch
          <svg class="ms-2 h-4 w-4" fill="none" viewBox="0 0 24 24">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m9 5 7 7-7 7" />
          </svg>
        </a>
      </div>
    </div>
  </div>
</section>

{% endblock content %}
